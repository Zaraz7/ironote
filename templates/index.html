<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title>IroNote</title>
  </head>
  <body>
    <header>

    </header>

    <main>
      <div class='Api'>API:</div>
      <div class='App'>APP:</div>
      
    </main>

    <footer>

    </footer>
    <script>
        async function postMetod(){
          const url = './help';
          const data = { username: 'example' };

          try {
            const response = await fetch(url, {
              method: 'POST', // или 'PUT'
              body: JSON.stringify(data), // данные могут быть 'строкой' или {объектом}!
              headers: {
                'Content-Type': 'application/json'
              }
            });
            const json = await response.json();
            console.log('Успех:', JSON.stringify(json));
            
          } catch (error) {
            console.error('Ошибка:', error);
          }
        }


          function addTextInDivElement(className="div.any", text){
            document.querySelector(className).appendChild(document.createTextNode(text))
          }

        window.onload = function() {
          fetch('./help')
            .then((response) => {
              return response.json();
            })
            .then(data => {
              console.log(data);
              addTextInDivElement("div.App", data.status)
            })

          fetch('./StatusApi')
            .then((response) => {
              return response.json();
            })
            .then(data => {
              console.log(data);
              addTextInDivElement("div.Api", data.status)
            })
        }
    </script>
    <input value="Test button" onclick="postMetod()" type="button">
  </body>
</html>
